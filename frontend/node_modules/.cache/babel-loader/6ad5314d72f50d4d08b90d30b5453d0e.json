{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\"; //import { useMessage } from \"./useMessage\";\n\nimport { useLoginPlayer } from \"..//hooks/useLoginPlayer\";\nexport const useAuth = () => {\n  _s();\n\n  const navigate = useNavigate(); //\tconst { showMessage } = useMessage();\n\n  const {\n    setLoginPlayer\n  } = useLoginPlayer(); //\tconst [loading, setLoading] = useState(false);\n\n  const login = useCallback((name, password) => {\n    axios.get(`https://localhost:3001/players/${name}`).then(res => {\n      if (res.data && res.data.password === password) {\n        console.log(res.data); //\t\t\t\t\t\tshowMessage({\n        //\t\t\t\t\t\t\ttitle: \"ログインしました\",\n        //\t\t\t\t\t\t\tstatus: \"success\",\n        //\t\t\t\t\t\t});\n\n        navigate(\"/home\");\n      } else {\n        console.log(res.data); //\t\t\t\t\t\tshowMessage({\n        //\t\t\t\t\t\t\ttitle: \"ユーザーが見つかりません\",\n        //\t\t\t\t\t\t\tstatus: \"error\",\n        //\t\t\t\t\t\t});\n        //\t\t\t\t\t\tsetLoading(false);\n      }\n    }).catch(() => {//\t\t\t\t\tshowMessage({\n      //\t\t\t\t\t\ttitle: \"ログインできません\",\n      //\t\t\t\t\t\tstatus: \"error\",\n      //\t\t\t\t\t});\n      //\t\t\t\t\tsetLoading(false);\n    });\n  }, [navigate, //\t\t\tshowMessage,\n  setLoginPlayer]);\n  return {\n    login //\t\tloading\n\n  };\n};\n\n_s(useAuth, \"wSUoYX5BorOkwW3jo2JlLfp8m3E=\", false, function () {\n  return [useNavigate, useLoginPlayer];\n});","map":{"version":3,"sources":["/Users/r_tomishi/Desktop/42Tokyo/ft_transcendence/LocalDevelopment/frondend/src/hooks/useAuth.ts"],"names":["useCallback","axios","useNavigate","useLoginPlayer","useAuth","navigate","setLoginPlayer","login","name","password","get","then","res","data","console","log","catch"],"mappings":";;AAAA,SAASA,WAAT,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,kBAA5B,C,CACA;;AACA,SAASC,cAAT,QAA+B,0BAA/B;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAC5B,QAAMC,QAAQ,GAAGH,WAAW,EAA5B,CAD4B,CAE5B;;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAqBH,cAAc,EAAzC,CAH4B,CAK5B;;AAEA,QAAMI,KAAK,GAAGP,WAAW,CACxB,CAACQ,IAAD,EAAeC,QAAf,KAAoC;AACnCR,IAAAA,KAAK,CACHS,GADF,CACe,kCAAiCF,IAAK,EADrD,EAEEG,IAFF,CAEQC,GAAD,IAAS;AACd,UAAIA,GAAG,CAACC,IAAJ,IAAYD,GAAG,CAACC,IAAJ,CAASJ,QAAT,KAAsBA,QAAtC,EAAgD;AAC/CK,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EAD+C,CAE/C;AACA;AACA;AACA;;AACAR,QAAAA,QAAQ,CAAC,OAAD,CAAR;AACA,OAPD,MAOO;AACNS,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EADM,CAGN;AACA;AACA;AACA;AACA;AACA;AACD,KAnBF,EAoBEG,KApBF,CAoBQ,MAAM,CACZ;AACA;AACA;AACA;AACA;AACA,KA1BF;AA2BA,GA7BuB,EA8BxB,CACCX,QADD,EAEC;AACAC,EAAAA,cAHD,CA9BwB,CAAzB;AAoCA,SAAO;AACNC,IAAAA,KADM,CAEN;;AAFM,GAAP;AAIA,CA/CM;;GAAMH,O;UACKF,W,EAEUC,c","sourcesContent":["import { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { Player } from \"../types/api/Player\";\nimport { useNavigate } from \"react-router-dom\";\n//import { useMessage } from \"./useMessage\";\nimport { useLoginPlayer } from \"..//hooks/useLoginPlayer\";\n\nexport const useAuth = () => {\n\tconst navigate = useNavigate();\n\t//\tconst { showMessage } = useMessage();\n\tconst { setLoginPlayer } = useLoginPlayer();\n\n\t//\tconst [loading, setLoading] = useState(false);\n\n\tconst login = useCallback(\n\t\t(name: string, password: string) => {\n\t\t\taxios\n\t\t\t\t.get<Player>(`https://localhost:3001/players/${name}`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.data && res.data.password === password) {\n\t\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\t\t//\t\t\t\t\t\tshowMessage({\n\t\t\t\t\t\t//\t\t\t\t\t\t\ttitle: \"ログインしました\",\n\t\t\t\t\t\t//\t\t\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\t\t//\t\t\t\t\t\t});\n\t\t\t\t\t\tnavigate(\"/home\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(res.data)\n\n\t\t\t\t\t\t//\t\t\t\t\t\tshowMessage({\n\t\t\t\t\t\t//\t\t\t\t\t\t\ttitle: \"ユーザーが見つかりません\",\n\t\t\t\t\t\t//\t\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t\t//\t\t\t\t\t\t});\n\t\t\t\t\t\t//\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t//\t\t\t\t\tshowMessage({\n\t\t\t\t\t//\t\t\t\t\t\ttitle: \"ログインできません\",\n\t\t\t\t\t//\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t//\t\t\t\t\t});\n\t\t\t\t\t//\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t},\n\t\t[\n\t\t\tnavigate,\n\t\t\t//\t\t\tshowMessage,\n\t\t\tsetLoginPlayer,\n\t\t]\n\t);\n\treturn {\n\t\tlogin,\n\t\t//\t\tloading\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}