{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useMessage } from \"./useMessage\";\nimport { useLoginPlayer } from \"./useLoginPlayer\";\nimport { use42User } from \"./use42User\";\nimport { useGetPlayer } from \"./useGetPlayer\";\nexport const useFtAuth = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const navigate = useNavigate();\n  const {\n    showMessage\n  } = useMessage();\n  const {\n    setLoginPlayer\n  } = useLoginPlayer();\n  const {\n    getFtUser,\n    FtUser\n  } = use42User();\n  const {\n    getPlayer,\n    player\n  } = useGetPlayer();\n  const [loadingFt, setLoadingFt] = useState(false);\n\n  const loginFt = _s(useCallback(_s(() => {\n    _s();\n\n    window.location.href = \"https://api.intra.42.fr/oauth/authorize?client_id=5ec7a9808358afbd8a4a174c7d89d4ae27fc87b35477bf1065cc11387df68549&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fhome&response_type=code\";\n    const [searchParams] = useSearchParams();\n    const code = searchParams.get(\"code\");\n    code && getFtUser(code);\n    FtUser && getPlayer(FtUser);\n    player && setLoginPlayer(player);\n    setLoadingFt(false);\n  }, \"HWxNQEGJGSlsPJ3ubBB3081mtng=\", false, function () {\n    return [useSearchParams];\n  }), []), \"HWxNQEGJGSlsPJ3ubBB3081mtng=\", false, function () {\n    return [useSearchParams];\n  });\n\n  return {\n    loginFt,\n    loadingFt\n  };\n};\n\n_s2(useFtAuth, \"mth33qlP/1WeIUPijCcy+yhxWFA=\", false, function () {\n  return [useNavigate, useMessage, useLoginPlayer, useGetPlayer];\n});","map":{"version":3,"sources":["/Users/r_tomishi/Desktop/42Tokyo/ft_transcendence/LocalDevelopment/frondend/src/hooks/useFtAuth.ts"],"names":["useCallback","useState","useNavigate","useSearchParams","useMessage","useLoginPlayer","use42User","useGetPlayer","useFtAuth","navigate","showMessage","setLoginPlayer","getFtUser","FtUser","getPlayer","player","loadingFt","setLoadingFt","loginFt","window","location","href","searchParams","code","get"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAGA,SAASC,WAAT,EAAsBC,eAAtB,QAA6C,kBAA7C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAAA;;AAC9B,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAkBN,UAAU,EAAlC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAqBN,cAAc,EAAzC;AACA,QAAM;AAAEO,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAwBP,SAAS,EAAvC;AACA,QAAM;AAAEQ,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAwBR,YAAY,EAA1C;AAEA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMiB,OAAO,MAAGlB,WAAW,IAAC,MAAM;AAAA;;AACjCmB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GACC,yLADD;AAEA,UAAM,CAACC,YAAD,IAAiBnB,eAAe,EAAtC;AACA,UAAMoB,IAAI,GAAGD,YAAY,CAACE,GAAb,CAAiB,MAAjB,CAAb;AAEAD,IAAAA,IAAI,IAAIX,SAAS,CAACW,IAAD,CAAjB;AACAV,IAAAA,MAAM,IAAIC,SAAS,CAACD,MAAD,CAAnB;AACAE,IAAAA,MAAM,IAAIJ,cAAc,CAACI,MAAD,CAAxB;AACAE,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,GAV0B;AAAA,YAGHd,eAHG;AAAA,MAUxB,EAVwB,CAAd;AAAA,YAGWA,eAHX;AAAA,IAAb;;AAWA,SAAO;AACNe,IAAAA,OADM;AAENF,IAAAA;AAFM,GAAP;AAIA,CAxBM;;IAAMR,S;UACKN,W,EACOE,U,EACGC,c,EAEGE,Y","sourcesContent":["import { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { Player } from \"../types/api/Player\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useMessage } from \"./useMessage\";\nimport { useLoginPlayer } from \"./useLoginPlayer\";\nimport { use42User } from \"./use42User\";\nimport { useGetPlayer } from \"./useGetPlayer\";\n\nexport const useFtAuth = () => {\n\tconst navigate = useNavigate();\n\tconst { showMessage } = useMessage();\n\tconst { setLoginPlayer } = useLoginPlayer();\n\tconst { getFtUser, FtUser } = use42User();\n\tconst { getPlayer, player } = useGetPlayer();\n\n\tconst [loadingFt, setLoadingFt] = useState(false);\n\n\tconst loginFt = useCallback(() => {\n\t\twindow.location.href =\n\t\t\t\"https://api.intra.42.fr/oauth/authorize?client_id=5ec7a9808358afbd8a4a174c7d89d4ae27fc87b35477bf1065cc11387df68549&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fhome&response_type=code\";\n\t\tconst [searchParams] = useSearchParams();\n\t\tconst code = searchParams.get(\"code\");\n\n\t\tcode && getFtUser(code);\n\t\tFtUser && getPlayer(FtUser);\n\t\tplayer && setLoginPlayer(player);\n\t\tsetLoadingFt(false);\n\t}, []);\n\treturn {\n\t\tloginFt,\n\t\tloadingFt,\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}