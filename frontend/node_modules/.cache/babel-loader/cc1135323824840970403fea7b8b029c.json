{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nexport const use42Player = () => {\n  _s();\n\n  const [player, setPlayer] = useState();\n  const getPlayer = useCallback(code => {\n    axios.post(\"https://api.intra.42.fr/oauth/token\", {\n      grant_type: \"authorization_code\",\n      client_id: \"5ec7a9808358afbd8a4a174c7d89d4ae27fc87b35477bf1065cc11387df68549\",\n      client_secret: \"811b6f2ae3b9ccb0fb01fe47113e2189280f6daa0a4ecadf082d3c1cd96670d6\",\n      code: code,\n      redirect_uri: \"http://localhost:3000/home\"\n    }).then(accessToken => {\n      axios.get(\"https://api.intra.42.fr/v2/me\", {\n        headers: {\n          Authorization: `Bearer ${accessToken.data.access_token}`\n        }\n      }).then(res => {\n        setPlayer({\n          imageUrl: res.data.image_url,\n          id: \"42\",\n          name: res.data.login,\n          win: 42,\n          lose: 24,\n          level: 4,\n          exp: 0\n        });\n      }).catch(() => console.log(\"Not Found Me\"));\n    }).catch(() => console.log(\"Not Found AccessToken\"));\n  }, []);\n  return {\n    getPlayer,\n    player\n  };\n};\n\n_s(use42Player, \"8/dM3EJZExdWwiyv7s4BM9mR9Bc=\");","map":{"version":3,"sources":["/Users/r_tomishi/Desktop/42Tokyo/ft_transcendence/LocalDevelopment/frondend/src/hooks/use42Player.ts"],"names":["useState","useCallback","axios","use42Player","player","setPlayer","getPlayer","code","post","grant_type","client_id","client_secret","redirect_uri","then","accessToken","get","headers","Authorization","data","access_token","res","imageUrl","image_url","id","name","login","win","lose","level","exp","catch","console","log"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAAA;;AAChC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,EAApC;AAEA,QAAMM,SAAS,GAAGL,WAAW,CAAEM,IAAD,IAAkB;AAC/CL,IAAAA,KAAK,CACHM,IADF,CACO,qCADP,EAC8C;AAC5CC,MAAAA,UAAU,EAAE,oBADgC;AAE5CC,MAAAA,SAAS,EACR,kEAH2C;AAI5CC,MAAAA,aAAa,EACZ,kEAL2C;AAM5CJ,MAAAA,IAAI,EAAEA,IANsC;AAO5CK,MAAAA,YAAY,EAAE;AAP8B,KAD9C,EAUEC,IAVF,CAUQC,WAAD,IAAiB;AACtBZ,MAAAA,KAAK,CACHa,GADF,CACM,+BADN,EACuC;AACrCC,QAAAA,OAAO,EAAE;AACRC,UAAAA,aAAa,EAAG,UAASH,WAAW,CAACI,IAAZ,CAAiBC,YAAa;AAD/C;AAD4B,OADvC,EAMEN,IANF,CAMQO,GAAD,IAAS;AACdf,QAAAA,SAAS,CAAC;AACTgB,UAAAA,QAAQ,EAAED,GAAG,CAACF,IAAJ,CAASI,SADV;AAETC,UAAAA,EAAE,EAAE,IAFK;AAGTC,UAAAA,IAAI,EAAEJ,GAAG,CAACF,IAAJ,CAASO,KAHN;AAITC,UAAAA,GAAG,EAAE,EAJI;AAKTC,UAAAA,IAAI,EAAE,EALG;AAMTC,UAAAA,KAAK,EAAE,CANE;AAOTC,UAAAA,GAAG,EAAE;AAPI,SAAD,CAAT;AASA,OAhBF,EAiBEC,KAjBF,CAiBQ,MAAMC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAjBd;AAkBA,KA7BF,EA8BEF,KA9BF,CA8BQ,MAAMC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CA9Bd;AA+BA,GAhC4B,EAgC1B,EAhC0B,CAA7B;AAiCA,SAAO;AAAE1B,IAAAA,SAAF;AAAaF,IAAAA;AAAb,GAAP;AACA,CArCM;;GAAMD,W","sourcesContent":["import { useState, useCallback } from \"react\";\nimport axios from \"axios\";\n\nimport { Player } from \"../types/api/player\";\n\nexport const use42Player = () => {\n\tconst [player, setPlayer] = useState<Player>();\n\n\tconst getPlayer = useCallback((code: string) => {\n\t\taxios\n\t\t\t.post(\"https://api.intra.42.fr/oauth/token\", {\n\t\t\t\tgrant_type: \"authorization_code\",\n\t\t\t\tclient_id:\n\t\t\t\t\t\"5ec7a9808358afbd8a4a174c7d89d4ae27fc87b35477bf1065cc11387df68549\",\n\t\t\t\tclient_secret:\n\t\t\t\t\t\"811b6f2ae3b9ccb0fb01fe47113e2189280f6daa0a4ecadf082d3c1cd96670d6\",\n\t\t\t\tcode: code,\n\t\t\t\tredirect_uri: \"http://localhost:3000/home\",\n\t\t\t})\n\t\t\t.then((accessToken) => {\n\t\t\t\taxios\n\t\t\t\t\t.get(\"https://api.intra.42.fr/v2/me\", {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${accessToken.data.access_token}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetPlayer({\n\t\t\t\t\t\t\timageUrl: res.data.image_url,\n\t\t\t\t\t\t\tid: \"42\",\n\t\t\t\t\t\t\tname: res.data.login,\n\t\t\t\t\t\t\twin: 42,\n\t\t\t\t\t\t\tlose: 24,\n\t\t\t\t\t\t\tlevel: 4,\n\t\t\t\t\t\t\texp: 0,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => console.log(\"Not Found Me\"));\n\t\t\t})\n\t\t\t.catch(() => console.log(\"Not Found AccessToken\"));\n\t}, []);\n\treturn { getPlayer, player };\n};\n"]},"metadata":{},"sourceType":"module"}